{"ast":null,"code":"import _regeneratorRuntime from\"E:/Downloads/\\u0414\\u0437/Project-master/MarkingSystem/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/Downloads/\\u0414\\u0437/Project-master/MarkingSystem/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"E:/Downloads/\\u0414\\u0437/Project-master/MarkingSystem/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"E:/Downloads/\\u0414\\u0437/Project-master/MarkingSystem/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import axios from'axios';var AuthorizationServices=/*#__PURE__*/function(){function AuthorizationServices(){_classCallCheck(this,AuthorizationServices);}_createClass(AuthorizationServices,null,[{key:\"login\",value:function(){var _login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(data);if(localStorage.getItem('ACCESS')){localStorage.removeItem('ACCESS');localStorage.removeItem('REFRESH');}_context.next=4;return axios.post('http://maximzhak43.pythonanywhere.com/eduschedule/api/v1/login',data).then(function(responce){localStorage.setItem('ROLE',responce.data.status);localStorage.setItem('ACCESS',responce.data.access);localStorage.setItem('REFRESH',responce.data.refresh);}).catch(function(error){return console.log(error);});case 4:case\"end\":return _context.stop();}},_callee);}));function login(_x){return _login.apply(this,arguments);}return login;}()}]);return AuthorizationServices;}();export{AuthorizationServices as default};","map":{"version":3,"names":["axios","AuthorizationServices","_classCallCheck","_createClass","key","value","_login","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","console","log","localStorage","getItem","removeItem","post","then","responce","setItem","status","access","refresh","catch","error","stop","login","_x","apply","arguments","default"],"sources":["E:/Downloads/ะะท/Project-master/MarkingSystem/frontend/src/components/services/AutorizationServices.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nexport default class AuthorizationServices\r\n{\r\n    static async login(data)\r\n    {\r\n        console.log(data)\r\n        if(localStorage.getItem('ACCESS'))\r\n        {\r\n            localStorage.removeItem('ACCESS')\r\n            localStorage.removeItem('REFRESH')\r\n        }\r\n\r\n        await axios.post('http://maximzhak43.pythonanywhere.com/eduschedule/api/v1/login', data)\r\n        .then(responce =>\r\n        {\r\n            localStorage.setItem('ROLE', responce.data.status)\r\n            localStorage.setItem('ACCESS', responce.data.access)\r\n            localStorage.setItem('REFRESH', responce.data.refresh)\r\n        })\r\n        .catch(error => console.log(error))\r\n    }\r\n}\r\n"],"mappings":"kmBAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,IAEJ,CAAAC,qBAAqB,kCAAAA,sBAAA,EAAAC,eAAA,MAAAD,qBAAA,GAAAE,YAAA,CAAAF,qBAAA,QAAAG,GAAA,SAAAC,KAAA,gBAAAC,MAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAEtC,SAAAC,QAAmBC,IAAI,SAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAEnBC,OAAO,CAACC,GAAG,CAACP,IAAI,CAAC,CACjB,GAAGQ,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CACjC,CACID,YAAY,CAACE,UAAU,CAAC,QAAQ,CAAC,CACjCF,YAAY,CAACE,UAAU,CAAC,SAAS,CAAC,CACtC,CAACP,QAAA,CAAAE,IAAA,SAEK,CAAAhB,KAAK,CAACsB,IAAI,CAAC,gEAAgE,CAAEX,IAAI,CAAC,CACvFY,IAAI,CAAC,SAAAC,QAAQ,CACd,CACIL,YAAY,CAACM,OAAO,CAAC,MAAM,CAAED,QAAQ,CAACb,IAAI,CAACe,MAAM,CAAC,CAClDP,YAAY,CAACM,OAAO,CAAC,QAAQ,CAAED,QAAQ,CAACb,IAAI,CAACgB,MAAM,CAAC,CACpDR,YAAY,CAACM,OAAO,CAAC,SAAS,CAAED,QAAQ,CAACb,IAAI,CAACiB,OAAO,CAAC,CAC1D,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,KAAK,QAAI,CAAAb,OAAO,CAACC,GAAG,CAACY,KAAK,CAAC,GAAC,yBAAAhB,QAAA,CAAAiB,IAAA,MAAArB,OAAA,GACtC,YAAAsB,MAAAC,EAAA,SAAA3B,MAAA,CAAA4B,KAAA,MAAAC,SAAA,UAAAH,KAAA,eAAA/B,qBAAA,YAnBgBA,qBAAqB,IAAAmC,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}