{"ast":null,"code":"var _jsxFileName = \"E:\\\\Downloads\\\\\\u0414\\u0437\\\\djangosite\\\\djangosite\\\\MarkingSystem\\\\frontend\\\\src\\\\components\\\\Marks\\\\marks.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport ClassSelect from \"./mini_components/ClassSelect\";\nimport SubjectSelect from \"./mini_components/SubjectSelect\";\nimport MarkTable from \"./mini_components/MarksTable\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Marks = () => {\n  _s();\n  const [school_class, setSchool_Class] = useState('');\n  const [subject, setSubject] = useState('');\n  const [visibleSubjects, setVisibleSubjects] = useState(false);\n  const [visibleTable, setVisibleTabel] = useState(false);\n  const [data, setData] = useState([]);\n  const getAll = value => {\n    axios.get(`http://127.0.0.1:8000/eduschedule/api/v1/students/${value}/`).then(responce => {\n      setData(responce.data);\n      console.log(responce.data);\n    }).catch(err => console.log(err));\n  };\n  const changeClass = value => {\n    console.log(value);\n    if (value > 0) {\n      setSchool_Class(value);\n      setVisibleSubjects(true);\n      console.log(school_class);\n      getAll();\n    } else {\n      setVisibleSubjects(false);\n      setVisibleTabel(false);\n    }\n  };\n  const changeSubject = value => {\n    if (value) {\n      setSubject(value);\n      setVisibleTabel(true);\n    } else {\n      setVisibleTabel(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u041E\\u0446\\u0435\\u043D\\u043A\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ClassSelect, {\n      changeClass: changeClass\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), visibleSubjects ? /*#__PURE__*/_jsxDEV(SubjectSelect, {\n      changeSubject: changeSubject\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u041A\\u043B\\u0430\\u0441\\u0441 \\u043D\\u0435 \\u0432\\u044B\\u0431\\u0440\\u0430\\u043D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }, this), visibleSubjects && visibleTable ? /*#__PURE__*/_jsxDEV(MarkTable, {\n      students: data.filter(student => student.marks.filter(element => element.subject === subject))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(Marks, \"55o0RvU68Clpis7dVvHzRqyA/ow=\");\n_c = Marks;\nexport default Marks;\nvar _c;\n$RefreshReg$(_c, \"Marks\");","map":{"version":3,"names":["useEffect","useState","ClassSelect","SubjectSelect","MarkTable","axios","jsxDEV","_jsxDEV","Marks","_s","school_class","setSchool_Class","subject","setSubject","visibleSubjects","setVisibleSubjects","visibleTable","setVisibleTabel","data","setData","getAll","value","get","then","responce","console","log","catch","err","changeClass","changeSubject","children","fileName","_jsxFileName","lineNumber","columnNumber","students","filter","student","marks","element","_c","$RefreshReg$"],"sources":["E:/Downloads/Дз/djangosite/djangosite/MarkingSystem/frontend/src/components/Marks/marks.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport ClassSelect from \"./mini_components/ClassSelect\"\r\nimport SubjectSelect from \"./mini_components/SubjectSelect\"\r\nimport MarkTable from \"./mini_components/MarksTable\"\r\nimport axios from \"axios\"\r\n\r\n\r\nconst Marks = () =>\r\n{\r\n    const [school_class, setSchool_Class] = useState('')\r\n    const [subject, setSubject] = useState('')\r\n    const [visibleSubjects, setVisibleSubjects] = useState(false)\r\n    const [visibleTable, setVisibleTabel] = useState(false)\r\n    const [data, setData] = useState([])\r\n\r\n    const getAll = (value) =>\r\n    {\r\n        axios.get(`http://127.0.0.1:8000/eduschedule/api/v1/students/${value}/`)\r\n        .then(responce => {\r\n            setData(responce.data)\r\n            console.log(responce.data)\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n    const changeClass = (value) =>\r\n    {  \r\n        console.log(value)\r\n        if(value > 0)\r\n        {\r\n            setSchool_Class(value)\r\n            setVisibleSubjects(true)\r\n            console.log(school_class)\r\n            getAll()\r\n        }\r\n        else\r\n        {\r\n            setVisibleSubjects(false)\r\n            setVisibleTabel(false)\r\n        }\r\n    }\r\n    \r\n    const changeSubject = (value) =>\r\n    {\r\n        if(value)\r\n        {\r\n            setSubject(value)\r\n            setVisibleTabel(true)\r\n        }\r\n        else\r\n        {\r\n            setVisibleTabel(false)\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h1>Оценки</h1>\r\n            <ClassSelect changeClass={changeClass}/>\r\n            {visibleSubjects\r\n            ? <SubjectSelect changeSubject={changeSubject}/>\r\n            : <p>Класс не выбран</p>\r\n            }\r\n            {visibleSubjects && visibleTable\r\n            ? <MarkTable students={data.filter(student => (student.marks).filter(element => element.subject === subject))}/>\r\n            : <p/>\r\n            }\r\n            \r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Marks;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}