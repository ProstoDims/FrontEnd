{"ast":null,"code":"import _regeneratorRuntime from\"E:/Downloads/\\u0414\\u0437/Project-master/MarkingSystem/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"E:/Downloads/\\u0414\\u0437/Project-master/MarkingSystem/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"E:/Downloads/\\u0414\\u0437/Project-master/MarkingSystem/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/Downloads/\\u0414\\u0437/Project-master/MarkingSystem/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import AuthorizationServices from'../services/AutorizationServices';import MyInput from\"../UI/MyInput/MyInput\";import MyButton from\"../UI/MyButton/MyButton\";import classes from\"./Authorization.module.css\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Authorization=function Authorization(){var navigate=useNavigate();var _useState=useState({login:'',password:''}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];function sendRequest(_x){return _sendRequest.apply(this,arguments);}function _sendRequest(){_sendRequest=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(data.login&&data.password)){_context.next=5;break;}_context.next=4;return AuthorizationServices.login(data);case 4:if(localStorage.getItem('ACCESS')&&localStorage.getItem('REFRESH')){navigate('/home');}case 5:setData({login:'',password:''});case 6:case\"end\":return _context.stop();}},_callee);}));return _sendRequest.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:classes.authorizationDiv,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.authorizationContent,children:[/*#__PURE__*/_jsx(\"h1\",{style:{marginTop:\"0px\"},children:\"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsx(MyInput,{name:\"login\",placeholder:\"\\u041B\\u043E\\u0433\\u0438\\u043D\",value:data.login,onChange:function onChange(event){return setData(_objectSpread(_objectSpread({},data),{},{login:event.target.value}));},style:{marginTop:'10px'}}),/*#__PURE__*/_jsx(MyInput,{type:\"password\",name:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",value:data.password,onChange:function onChange(event){return setData(_objectSpread(_objectSpread({},data),{},{password:event.target.value}));},style:{marginTop:'5px'}}),/*#__PURE__*/_jsx(MyButton,{style:{width:'100px'},onClick:sendRequest,children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})});};export default Authorization;","map":{"version":3,"names":["useState","AuthorizationServices","MyInput","MyButton","classes","useNavigate","jsx","_jsx","jsxs","_jsxs","Authorization","navigate","_useState","login","password","_useState2","_slicedToArray","data","setData","sendRequest","_x","_sendRequest","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","wrap","_callee$","_context","prev","next","preventDefault","localStorage","getItem","stop","className","authorizationDiv","children","authorizationContent","style","marginTop","name","placeholder","value","onChange","_objectSpread","target","type","width","onClick"],"sources":["E:/Downloads/Дз/Project-master/MarkingSystem/frontend/src/components/Autorization/Authorization.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport AuthorizationServices from '../services/AutorizationServices'\r\nimport MyInput from \"../UI/MyInput/MyInput\";\r\nimport MyButton from \"../UI/MyButton/MyButton\";\r\nimport classes from \"./Authorization.module.css\"\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Authorization = () =>\r\n{\r\n    const navigate = useNavigate()\r\n    const [data, setData] = useState({login: '', password: ''})\r\n    async function sendRequest(event)\r\n    {\r\n        event.preventDefault()\r\n        if(data.login && data.password)\r\n        {\r\n            await AuthorizationServices.login(data)\r\n            if(localStorage.getItem('ACCESS') && localStorage.getItem('REFRESH'))\r\n            {\r\n                navigate('/home')\r\n            }     \r\n        }\r\n        \r\n        setData({login: '', password: ''})\r\n    }\r\n\r\n    return(\r\n        <div className={classes.authorizationDiv}>\r\n            <div className={classes.authorizationContent}>\r\n                <h1 style={{marginTop: \"0px\"}}>Авторизация</h1>\r\n                <MyInput name='login' placeholder=\"Логин\"\r\n                value={data.login} onChange={event => setData({...data, login: event.target.value})}\r\n                style={{marginTop: '10px'}}/>\r\n                <MyInput type='password' name = 'password' placeholder=\"Пароль\"\r\n                value={data.password} onChange={event => setData({...data, password: event.target.value})}\r\n                style={{marginTop: '5px'}}/>\r\n                <MyButton style={{width: '100px'}} onClick={sendRequest}>Войти</MyButton>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Authorization;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}