{"ast":null,"code":"import axios from \"axios\";\nexport default class ScheduleService {\n  static async getAll(value) {\n    const responce = await axios.get(`http://127.0.0.1:8000/eduschedule/api/v1/schedule/${value}/`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('ACCESS')}`\n      }\n    }).catch(error => {\n      if (localStorage.getItem('REFRESH') && error.response.status === 401) {\n        axios.post('http://127.0.0.1:8000/token/refresh/', {\n          refresh: localStorage.getItem('REFRESH')\n        }).then(responce => {\n          localStorage.setItem('ACCESS', responce.data.access);\n          this.getAll(value);\n        });\n      }\n    });\n    return responce.data;\n  }\n}","map":{"version":3,"names":["axios","ScheduleService","getAll","value","responce","get","headers","Authorization","localStorage","getItem","catch","error","response","status","post","refresh","then","setItem","data","access"],"sources":["E:/Downloads/ะะท/Project-master/MarkingSystem/frontend/src/components/services/ScheduleService.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport default class ScheduleService \r\n{\r\n    static async getAll(value)\r\n    {\r\n        const responce = await axios.get(`http://127.0.0.1:8000/eduschedule/api/v1/schedule/${value}/`,\r\n        {headers: {Authorization: `Bearer ${localStorage.getItem('ACCESS')}`}})\r\n        .catch(error=>\r\n        {\r\n            if(localStorage.getItem('REFRESH') && error.response.status === 401)\r\n            {\r\n                axios.post('http://127.0.0.1:8000/token/refresh/', {refresh: localStorage.getItem('REFRESH')})\r\n                .then(responce => {\r\n                    localStorage.setItem('ACCESS', responce.data.access)\r\n                    this.getAll(value)\r\n                })\r\n            }\r\n        })\r\n        return responce.data\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,eAAe,MAAMC,eAAe,CACpC;EACI,aAAaC,MAAMA,CAACC,KAAK,EACzB;IACI,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAE,qDAAoDF,KAAM,GAAE,EAC9F;MAACG,OAAO,EAAE;QAACC,aAAa,EAAG,UAASC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAE;MAAC;IAAC,CAAC,CAAC,CACtEC,KAAK,CAACC,KAAK,IACZ;MACI,IAAGH,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,IAAIE,KAAK,CAACC,QAAQ,CAACC,MAAM,KAAK,GAAG,EACnE;QACIb,KAAK,CAACc,IAAI,CAAC,sCAAsC,EAAE;UAACC,OAAO,EAAEP,YAAY,CAACC,OAAO,CAAC,SAAS;QAAC,CAAC,CAAC,CAC7FO,IAAI,CAACZ,QAAQ,IAAI;UACdI,YAAY,CAACS,OAAO,CAAC,QAAQ,EAAEb,QAAQ,CAACc,IAAI,CAACC,MAAM,CAAC;UACpD,IAAI,CAACjB,MAAM,CAACC,KAAK,CAAC;QACtB,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;IACF,OAAOC,QAAQ,CAACc,IAAI;EACxB;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}