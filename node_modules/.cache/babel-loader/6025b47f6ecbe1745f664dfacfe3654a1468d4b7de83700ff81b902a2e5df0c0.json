{"ast":null,"code":"import _regeneratorRuntime from\"E:/Downloads/\\u0414\\u0437/Project-master/MarkingSystem/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"E:/Downloads/\\u0414\\u0437/Project-master/MarkingSystem/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"E:/Downloads/\\u0414\\u0437/Project-master/MarkingSystem/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/Downloads/\\u0414\\u0437/Project-master/MarkingSystem/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import AuthorizationServices from'../services/AutorizationServices';import MyInput from\"../UI/MyInput/MyInput\";import MyButton from\"../UI/MyButton/MyButton\";import classes from\"./Authorization.module.css\";import{useNavigate}from\"react-router-dom\";import Header from\"../Header/Header\";import Footer from\"../Footer/Footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Authorization=function Authorization(){var navigate=useNavigate();var _useState=useState({login:'',password:''}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];function sendRequest(){return _sendRequest.apply(this,arguments);}function _sendRequest(){_sendRequest=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(data.login&&data.password)){_context.next=4;break;}_context.next=3;return AuthorizationServices.login(data);case 3:if(localStorage.getItem('ACCESS')&&localStorage.getItem('REFRESH')){navigate('/home');}case 4:setData({login:'',password:''});case 5:case\"end\":return _context.stop();}},_callee);}));return _sendRequest.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:classes.authorizationDiv,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.authorizationContent,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.logo,children:\"EduSchedule\"}),/*#__PURE__*/_jsx(MyInput,{name:\"login\",placeholder:\"\\u041B\\u043E\\u0433\\u0438\\u043D\",value:data.login,onChange:function onChange(event){return setData(_objectSpread(_objectSpread({},data),{},{login:event.target.value}));},style:{marginLeft:'20px'}}),/*#__PURE__*/_jsx(MyInput,{type:\"password\",name:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",value:data.password,onChange:function onChange(event){return setData(_objectSpread(_objectSpread({},data),{},{password:event.target.value}));},style:{marginLeft:'20px'}}),/*#__PURE__*/_jsx(MyButton,{style:{width:'100px'},onClick:sendRequest,children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})});};export default Authorization;","map":{"version":3,"names":["useState","AuthorizationServices","MyInput","MyButton","classes","useNavigate","Header","Footer","jsx","_jsx","jsxs","_jsxs","Authorization","navigate","_useState","login","password","_useState2","_slicedToArray","data","setData","sendRequest","_sendRequest","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","localStorage","getItem","stop","className","authorizationDiv","children","authorizationContent","logo","name","placeholder","value","onChange","event","_objectSpread","target","style","marginLeft","type","width","onClick"],"sources":["E:/Downloads/Дз/Project-master/MarkingSystem/frontend/src/components/Autorization/Authorization.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport AuthorizationServices from '../services/AutorizationServices'\r\nimport MyInput from \"../UI/MyInput/MyInput\";\r\nimport MyButton from \"../UI/MyButton/MyButton\";\r\nimport classes from \"./Authorization.module.css\"\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Header from \"../Header/Header\";\r\nimport Footer from \"../Footer/Footer\";\r\n\r\nconst Authorization = () =>\r\n{\r\n    const navigate = useNavigate()\r\n    const [data, setData] = useState({login: '', password: ''})\r\n    async function sendRequest()\r\n    {\r\n        if(data.login && data.password)\r\n        {\r\n            await AuthorizationServices.login(data)\r\n            if(localStorage.getItem('ACCESS') && localStorage.getItem('REFRESH'))\r\n            {\r\n                navigate('/home')\r\n            }     \r\n        }\r\n        \r\n        setData({login: '', password: ''})\r\n    }\r\n\r\n    return(\r\n        <div className={classes.authorizationDiv}>\r\n            <div className={classes.authorizationContent}>\r\n                <div className={classes.logo}>EduSchedule</div>\r\n                <MyInput name='login' placeholder=\"Логин\"\r\n                value={data.login} onChange={event => setData({...data, login: event.target.value})}\r\n                style={{marginLeft: '20px'}}/>\r\n                <MyInput type='password' name = 'password' placeholder=\"Пароль\"\r\n                value={data.password} onChange={event => setData({...data, password: event.target.value})}\r\n                style={{marginLeft: '20px'}}/>\r\n                <MyButton style={{width: '100px'}} onClick={sendRequest}>Войти</MyButton>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Authorization;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}