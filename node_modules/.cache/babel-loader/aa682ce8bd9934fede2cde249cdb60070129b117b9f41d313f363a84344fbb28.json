{"ast":null,"code":"import _objectSpread from\"E:/Downloads/\\u0414\\u0437/Project-master/MarkingSystem/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"E:/Downloads/\\u0414\\u0437/Project-master/MarkingSystem/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import MarkField from\"./MarkField\";import NameField from\"./NameField\";import classes from\"../marks.module.css\";import{useState}from\"react\";import ModalWidnow from\"../../Events/mini_components/ModalWindow\";import ChangeMark from\"./ChangeMark\";import AddNew from\"./AddNew\";import AddNewForm from\"./AddNewForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TableRow=function TableRow(_ref){var student=_ref.student,marks=_ref.marks,change=_ref.change,addNew=_ref.addNew,subj=_ref.subj,deleteMark=_ref.deleteMark;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),modal=_useState4[0],setModal=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),mark=_useState6[0],setMark=_useState6[1];var changeM=function changeM(newMark){setMark(newMark);setVisible(true);};var changeMark=function changeMark(newMark){var new_mark=_objectSpread({id:student.id},newMark);change(new_mark);setVisible(false);};var addM=function addM(mark){setModal(false);var newMark={id:student.id,value:mark.value,subject:mark.subject};addNew(newMark);};var DeleteMark=function DeleteMark(mark){deleteMark(mark);setVisible(false);};return/*#__PURE__*/_jsxs(\"div\",{className:classes.tableRow,children:[/*#__PURE__*/_jsx(ModalWidnow,{visible:visible,setVisible:setVisible,children:/*#__PURE__*/_jsx(ChangeMark,{mark:mark,change:changeMark,deleteMark:DeleteMark})}),/*#__PURE__*/_jsx(NameField,{children:student.name}),marks.map(function(mark,id){return/*#__PURE__*/_jsx(MarkField,{children:mark,changeMark:changeM},id);}),localStorage.getItem('ROLE')==='teacher'?/*#__PURE__*/_jsx(AddNew,{setModal:setModal}):/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(ModalWidnow,{visible:modal,setVisible:setModal,children:/*#__PURE__*/_jsx(AddNewForm,{addNew:addM,subj:subj})})]});};export default TableRow;","map":{"version":3,"names":["MarkField","NameField","classes","useState","ModalWidnow","ChangeMark","AddNew","AddNewForm","jsx","_jsx","jsxs","_jsxs","TableRow","_ref","student","marks","change","addNew","subj","deleteMark","_useState","_useState2","_slicedToArray","visible","setVisible","_useState3","_useState4","modal","setModal","_useState5","_useState6","mark","setMark","changeM","newMark","changeMark","new_mark","_objectSpread","id","addM","value","subject","DeleteMark","className","tableRow","children","name","map","localStorage","getItem"],"sources":["E:/Downloads/ะะท/Project-master/MarkingSystem/frontend/src/components/Marks/mini_components/TableRow.jsx"],"sourcesContent":["import MarkField from \"./MarkField\"\r\nimport NameField from \"./NameField\"\r\nimport classes from \"../marks.module.css\"\r\nimport { useState } from \"react\"\r\nimport ModalWidnow from \"../../Events/mini_components/ModalWindow\"\r\nimport ChangeMark from \"./ChangeMark\"\r\nimport AddNew from \"./AddNew\"\r\nimport AddNewForm from \"./AddNewForm\"\r\n\r\nconst TableRow = ({student, marks, change, addNew, subj, deleteMark}) =>\r\n{\r\n    const [visible, setVisible] = useState(false)\r\n    const [modal, setModal] = useState(false)\r\n    const [mark, setMark] = useState({})\r\n\r\n    const changeM = (newMark) =>\r\n    {\r\n        setMark(newMark)\r\n        setVisible(true)    \r\n    }\r\n    const changeMark = (newMark) =>\r\n    {\r\n        const new_mark = {id: student.id, ...newMark}\r\n        change(new_mark)\r\n        setVisible(false)\r\n    }\r\n    const addM = (mark) =>\r\n    {\r\n        setModal(false)\r\n        const newMark = {id:student.id, value:mark.value, subject:mark.subject}\r\n        addNew(newMark)\r\n    }\r\n    const DeleteMark = (mark) =>\r\n    {\r\n        deleteMark(mark)\r\n        setVisible(false);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.tableRow}>\r\n            <ModalWidnow visible={visible} setVisible={setVisible}>\r\n                <ChangeMark mark={mark} change={changeMark} deleteMark={DeleteMark}/>\r\n            </ModalWidnow>\r\n\r\n            <NameField>{student.name}</NameField>\r\n            {\r\n                marks.map((mark, id) => <MarkField children={mark} key={id} changeMark={changeM}/>)\r\n            }\r\n\r\n            {localStorage.getItem('ROLE') === 'teacher'\r\n            ?<AddNew setModal={setModal}/>\r\n            :<div/>\r\n            }\r\n            <ModalWidnow visible={modal} setVisible={setModal}>\r\n                <AddNewForm addNew={addM} subj={subj}/>\r\n            </ModalWidnow>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TableRow;"],"mappings":"ySAAA,MAAO,CAAAA,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,OAAO,KAAM,qBAAqB,CACzC,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,WAAW,KAAM,0CAA0C,CAClE,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,UAAU,KAAM,cAAc,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErC,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAAC,IAAA,CACd,IADmB,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAAEC,KAAK,CAAAF,IAAA,CAALE,KAAK,CAAEC,MAAM,CAAAH,IAAA,CAANG,MAAM,CAAEC,MAAM,CAAAJ,IAAA,CAANI,MAAM,CAAEC,IAAI,CAAAL,IAAA,CAAJK,IAAI,CAAEC,UAAU,CAAAN,IAAA,CAAVM,UAAU,CAE/D,IAAAC,SAAA,CAA8BjB,QAAQ,CAAC,KAAK,CAAC,CAAAkB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAtCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAA0BtB,QAAQ,CAAC,KAAK,CAAC,CAAAuB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAlCE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAAwB1B,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA2B,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA7BE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IAEpB,GAAM,CAAAG,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAIC,OAAO,CACxB,CACIF,OAAO,CAACE,OAAO,CAAC,CAChBV,UAAU,CAAC,IAAI,CAAC,CACpB,CAAC,CACD,GAAM,CAAAW,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAID,OAAO,CAC3B,CACI,GAAM,CAAAE,QAAQ,CAAAC,aAAA,EAAIC,EAAE,CAAExB,OAAO,CAACwB,EAAE,EAAKJ,OAAO,CAAC,CAC7ClB,MAAM,CAACoB,QAAQ,CAAC,CAChBZ,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CACD,GAAM,CAAAe,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAIR,IAAI,CAClB,CACIH,QAAQ,CAAC,KAAK,CAAC,CACf,GAAM,CAAAM,OAAO,CAAG,CAACI,EAAE,CAACxB,OAAO,CAACwB,EAAE,CAAEE,KAAK,CAACT,IAAI,CAACS,KAAK,CAAEC,OAAO,CAACV,IAAI,CAACU,OAAO,CAAC,CACvExB,MAAM,CAACiB,OAAO,CAAC,CACnB,CAAC,CACD,GAAM,CAAAQ,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIX,IAAI,CACxB,CACIZ,UAAU,CAACY,IAAI,CAAC,CAChBP,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAED,mBACIb,KAAA,QAAKgC,SAAS,CAAEzC,OAAO,CAAC0C,QAAS,CAAAC,QAAA,eAC7BpC,IAAA,CAACL,WAAW,EAACmB,OAAO,CAAEA,OAAQ,CAACC,UAAU,CAAEA,UAAW,CAAAqB,QAAA,cAClDpC,IAAA,CAACJ,UAAU,EAAC0B,IAAI,CAAEA,IAAK,CAACf,MAAM,CAAEmB,UAAW,CAAChB,UAAU,CAAEuB,UAAW,EAAE,EAC3D,cAEdjC,IAAA,CAACR,SAAS,EAAA4C,QAAA,CAAE/B,OAAO,CAACgC,IAAI,EAAa,CAEjC/B,KAAK,CAACgC,GAAG,CAAC,SAAChB,IAAI,CAAEO,EAAE,qBAAK7B,IAAA,CAACT,SAAS,EAAC6C,QAAQ,CAAEd,IAAK,CAAUI,UAAU,CAAEF,OAAQ,EAAxBK,EAAE,CAAwB,GAAC,CAGtFU,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,GAAK,SAAS,cAC1CxC,IAAA,CAACH,MAAM,EAACsB,QAAQ,CAAEA,QAAS,EAAE,cAC7BnB,IAAA,UAAM,cAEPA,IAAA,CAACL,WAAW,EAACmB,OAAO,CAAEI,KAAM,CAACH,UAAU,CAAEI,QAAS,CAAAiB,QAAA,cAC9CpC,IAAA,CAACF,UAAU,EAACU,MAAM,CAAEsB,IAAK,CAACrB,IAAI,CAAEA,IAAK,EAAE,EAC7B,GACZ,CAEd,CAAC,CAED,cAAe,CAAAN,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}